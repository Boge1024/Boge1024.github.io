
    <!DOCTYPE html>
    <html lang="zh-CN"
            
          
    >
    <head>
    <meta charset="utf-8">
    

    

    
    <title>
        c++学习笔记————核心编程 |
        
        你终于找到我啦！</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CUbuntu%20Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
    
<link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/v4-font-face.min.css">

    
<link rel="stylesheet" href="/css/loader.css">

    <meta name="description" content="c++核心编程 1.内存分区模型 c++程序在执行时，将内存大方向划分为4个区域 (1)代码区：存放函数体的所有的二进制代码(无注释)，操作系统进行管理。（共享,只读） (2)全局区：存放全局变量和静态变量以及常量  &#x2F;&#x2F;全局变量和static定义的局部变量都在全局区，const修饰的局部常量仍在不在全局区 int a; int main(){     int b;     static int">
<meta property="og:type" content="article">
<meta property="og:title" content="c++学习笔记————核心编程">
<meta property="og:url" content="http://example.com/2023/07/21/qiong/index.html">
<meta property="og:site_name" content="你终于找到我啦！">
<meta property="og:description" content="c++核心编程 1.内存分区模型 c++程序在执行时，将内存大方向划分为4个区域 (1)代码区：存放函数体的所有的二进制代码(无注释)，操作系统进行管理。（共享,只读） (2)全局区：存放全局变量和静态变量以及常量  &#x2F;&#x2F;全局变量和static定义的局部变量都在全局区，const修饰的局部常量仍在不在全局区 int a; int main(){     int b;     static int">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/%E7%A9%B7.jpg">
<meta property="article:published_time" content="2023-07-21T00:24:11.000Z">
<meta property="article:modified_time" content="2024-05-07T13:37:44.637Z">
<meta property="article:author" content="Boge_1024">
<meta property="article:tag" content="c++">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/%E7%A9%B7.jpg">
    
        <link rel="alternate" href="/atom.xml" title="你终于找到我啦！" type="application/atom+xml">
    
    
        <link rel="shortcut icon" href="/images/zero.ico">
    
    
        
<link rel="stylesheet" href="https://unpkg.com/typeface-source-code-pro@1.1.13/index.css">

    
    
<link rel="stylesheet" href="/css/style.css">

    
        
<link rel="stylesheet" href="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

    
    
    
    
    
<script src="https://unpkg.com/pace-js@1.2.4/pace.min.js"></script>

    
        
<link rel="stylesheet" href="https://unpkg.com/wowjs@1.1.3/css/libs/animate.css">

        
<script src="https://unpkg.com/wowjs@1.1.3/dist/wow.min.js"></script>

        <script>
          new WOW({
            offset: 0,
            mobile: true,
            live: false
          }).init();
        </script>
    
<meta name="generator" content="Hexo 6.3.0"></head>

    <body>
    
<div id='loader'>
  <div class="loading-left-bg"></div>
  <div class="loading-right-bg"></div>
  <div class="spinner-box">
    <div class="loading-taichi">
      <svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision">
      <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="#ff6e6b" />
      <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z" fill="#fd0d00" />
      <path d="M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95" fill="#fd0d00" />
    </svg>
    </div>
    <div class="loading-word">少女祈祷中...</div>
  </div>
</div>
</div>

<script>
  const endLoading = function() {
    document.body.style.overflow = 'auto';
    document.getElementById('loader').classList.add("loading");
  }
  window.addEventListener('load', endLoading);
  document.getElementById('loader').addEventListener('click', endLoading);
</script>


    <div id="container">
        <div id="wrap">
            <header id="header">
    
        <img data-src="/images/穷.jpg" data-sizes="auto" alt="c++学习笔记————核心编程" class="lazyload">
    
    <div id="header-outer" class="outer">
        <div id="header-title" class="inner">
            <div id="logo-wrap">
                
                    
                    
                        <a href="/" id="logo"><h1>c++学习笔记————核心编程</h1></a>
                    
                
            </div>
            
                
                
            
        </div>
        <div id="header-inner">
            <nav id="main-nav">
                <a id="main-nav-toggle" class="nav-icon"></a>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/">首页</a>
                    </span>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/archives">归档</a>
                    </span>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/about">关于</a>
                    </span>
                
                    <span class="main-nav-link-wrap">
                        <span class="main-nav-icon"></span>
                        <a class="main-nav-link" href="/friend">友链</a>
                    </span>
                
            </nav>
            <nav id="sub-nav">
                
                    <a id="nav-rss-link" class="nav-icon" href="/atom.xml"
                       title="RSS 订阅"></a>
                
                
            </nav>
            <div id="search-form-wrap">
                <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
            </div>
        </div>
    </div>
</header>

            <div id="content" class="outer">
                <section id="main"><article id="post-qiong" class="h-entry article article-type-post"
         itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
    <div class="article-inner">
        <div class="article-meta">
            <div class="article-date wow slideInLeft">
    <a href="/2023/07/21/qiong/" class="article-date-link">
        <time datetime="2023-07-21T00:24:11.000Z"
              itemprop="datePublished">2023-07-21</time>
    </a>
</div>

            
    <div class="article-category wow slideInLeft">
        <a class="article-category-link" href="/categories/c/">c++</a>
    </div>


        </div>
        <div class="hr-line"></div>
        

        <div class="e-content article-entry" itemprop="articleBody">
            
                <h1 id="c-核心编程"><a href="#c-核心编程" class="headerlink" title="c++核心编程"></a>c++核心编程</h1><h2 id="1-内存分区模型"><a href="#1-内存分区模型" class="headerlink" title="1.内存分区模型"></a>1.内存分区模型</h2><p>c++程序在执行时，将内存大方向划分为4个区域<br>(1)代码区：存放函数体的所有的二进制代码(无注释)，操作系统进行管理。（共享,只读）<br>(2)全局区：存放全局变量和静态变量以及常量</p>
<pre><code>//全局变量和static定义的局部变量都在全局区，const修饰的局部常量仍在不在全局区
int a;
int main()&#123;
    int b;
    static int c;   //静态定义变量
    const int d = 1;//定义的常量存放在常量区
    cout&lt;&lt;(int)&amp;a&lt;&lt;endl;
    cout&lt;&lt;(int)&amp;b&lt;&lt;endl;
    cout&lt;&lt;(int)&amp;c&lt;&lt;endl;
    cout&lt;&lt;(int)&amp;d&lt;&lt;endl;//可得到a和c在全局区，而b和d不在全局区
&#125;
</code></pre>
<p>(3)栈区：由编译器自动分配释放，存放函数的参数值，局部变量等(不要返回局部变量的地址，会变)<br>(4)堆区：由程序员分配和释放，若程序员不释放，程序结束时由操作系统回收</p>
<pre><code>//利用new关键字，可以将数据开辟到堆空间，由程序员管理
int *a = new int(10);//new创建一个int类型的数据，并返回其的地址赋予指针
cout&lt;&lt;*a&lt;&lt;endl;
delete a;//使用delete关键字删除堆区中的变量
//cout&lt;&lt;*a&lt;&lt;endl;//此时会报错
</code></pre>
<h2 id="2-引用"><a href="#2-引用" class="headerlink" title="2.引用"></a>2.引用</h2><ol>
<li>作用：给变量起别名</li>
<li>语法：数据类型 &amp;别名 &#x3D; 原名<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//别名对应的变量值修改后，原名对应的值也会修改</span><br><span class="line">int a = 10;</span><br><span class="line">int &amp;b = a;//引用必须初始化,只声明int &amp;b是错的</span><br><span class="line">b = 20;</span><br><span class="line">cout&lt;&lt;<span class="string">a&lt;&lt;endl;//输出20;</span></span><br><span class="line"><span class="string">int c= 10;</span></span><br><span class="line"><span class="string">b = c  //引用初始化后，不可更改，即b已经是a</span>的别名了，不能再当c的别名，此处为赋值操作</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="3-函数高级"><a href="#3-函数高级" class="headerlink" title="3.函数高级"></a>3.函数高级</h2><h3 id="函数默认参数"><a href="#函数默认参数" class="headerlink" title="函数默认参数"></a>函数默认参数</h3><p>定义函数时，可以为函数的形参赋予默认值，当调用函数时，如果没有传入数据，则函数使用默认值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">函数声明、函数定义实现只能一个带默认参数</span><br><span class="line">//int sumAll(int a = 10,int b = 20,int c = 30);//函数声明</span><br><span class="line">int sumAll(int a,int b = 20,int c = 30)&#123; //默认值参数必须写在最右边</span><br><span class="line">    <span class="built_in">return</span> a+b+c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">sumAll(10)&lt;&lt;endl;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="函数占位参数"><a href="#函数占位参数" class="headerlink" title="函数占位参数"></a>函数占位参数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">void func(int a, int)//占位参数，可以赋予默认值，即int = 10</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;hello world!&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()&#123;</span></span><br><span class="line"><span class="string">    func(10,20);</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h3><p>作用域相同的情况下，函数名可以相同，但函数里的参数需要不同(类型，个数，顺序)，提高复用性</p>
<h2 id="4-类和对象"><a href="#4-类和对象" class="headerlink" title="4.类和对象"></a>4.类和对象</h2><p>c++面向对象的三大特性：封装、继承、多态</p>
<h3 id="4-1封装"><a href="#4-1封装" class="headerlink" title="4.1封装"></a>4.1封装</h3><p>封装的访问三种权限</p>
<pre><code>(1)public       公共权限    类内可以访问      类外可以访问
(2)protected    保护权限    类内可以访问      类外不可访问      子类可以访问父类
(3)private      私有权限    类内可以访问      类外不可访问      子类不可访问父类
</code></pre>
<p>示例如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">const double PI = 3.14;</span><br><span class="line">//设计一个圆类，求圆的周长</span><br><span class="line">class Circle&#123;</span><br><span class="line">    //访问权限</span><br><span class="line">    private:    //私有权限 ,类外不可访问</span><br><span class="line">        int password;</span><br><span class="line"></span><br><span class="line">    protected:  //保护权限 ,类外不可访问，但继承子类可以访问父类</span><br><span class="line">        int data;</span><br><span class="line">    </span><br><span class="line">    public: //公共权限</span><br><span class="line">        //1.属性</span><br><span class="line">        int r;//半径</span><br><span class="line">        </span><br><span class="line">        //2.行为</span><br><span class="line">        double getzc()//求圆的周长</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">return</span> 2*PI*r;//r和函数getzc在同一个作用域public中，可以直接使用</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()&#123;</span><br><span class="line">    Circle c;//创建圆对象c</span><br><span class="line">    c.r = 10;//给c中的属性赋值</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;半径为&quot;</span>&lt;&lt;<span class="string">c.r&lt;&lt;&quot;的周长为&quot;&lt;&lt;c</span>.getzc() &lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="struct和class区别"><a href="#struct和class区别" class="headerlink" title="struct和class区别"></a>struct和class区别</h3><p>两者默认的访问权限不同，struct默认是公共权限，class默认是私有权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">struct boge1&#123;//默认权限是公共，类外可调用</span><br><span class="line">    int boge=1;     </span><br><span class="line">    string name = <span class="string">&quot;boge&quot;</span></span><br><span class="line">    void <span class="function"><span class="title">pf</span></span>()&#123;  //结构体中也可以写方法</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;hello world! &quot;</span>&lt;&lt;<span class="string">name;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;b1;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">class boge2&#123;//默认权限是私有，类外不可调用</span></span><br><span class="line"><span class="string">    int boge=2;</span></span><br><span class="line"><span class="string">&#125;b2;</span></span><br><span class="line"><span class="string">int main()&#123;</span></span><br><span class="line"><span class="string">    b1.boge;//可调用</span></span><br><span class="line"><span class="string">    b1.pf();//可调用方法</span></span><br><span class="line"><span class="string">    b2.boge;//会报错：不可访问</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="成员属性设置为私有"><a href="#成员属性设置为私有" class="headerlink" title="成员属性设置为私有"></a>成员属性设置为私有</h3><p>将成员属性设置为私有，同时提供对应的公共读写方法（可读可写，可读不可写）<br>优点：<br>(1): 将所有成员属性设置为私有，可以自己控制读写权限<br>(2): 对于写入权限，我们可以检测数据的有效性,将数据控制在合法范围内。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class boge&#123;</span><br><span class="line">    private:</span><br><span class="line">        string name;//可读可写</span><br><span class="line">        int age = 18;    //只读不可写</span><br><span class="line">    public:</span><br><span class="line">        string get_name()//读名字</span><br><span class="line">        &#123;</span><br><span class="line">            // <span class="built_in">return</span> name;//无参数可直接返回</span><br><span class="line">            <span class="built_in">return</span> this-&gt;name;//当前对象指针</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        void set_name(string name)//写名字</span><br><span class="line">        &#123;</span><br><span class="line">            this-&gt;name = name;//形参和成员变量同名需要使用this指针</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int <span class="function"><span class="title">get_age</span></span>()&#123;<span class="built_in">return</span> age;&#125;//读年龄</span><br><span class="line"></span><br><span class="line">        void set_age(int age)&#123;//写入年龄并控制数据合法性</span><br><span class="line">            <span class="keyword">if</span>(age&lt;0 || age&gt;150)</span><br><span class="line">            &#123;</span><br><span class="line">                age = 18;</span><br><span class="line">                cout&lt;&lt;<span class="string">&quot;年龄数据不合法&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">                return;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            this-&gt; age = age;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">int main()&#123;</span></span><br><span class="line"><span class="string">    boge b ;</span></span><br><span class="line"><span class="string">    b.set_name(&quot;boge&quot;);//写入名字</span></span><br><span class="line"><span class="string">    cout&lt;&lt;b.get_name()&lt;&lt;endl</span>;//读取名字并输出</span><br><span class="line">    cout&lt;&lt;<span class="string">b.get_age()&lt;&lt;endl; //读取年龄并输出</span></span><br><span class="line"><span class="string">&#125;   </span></span><br></pre></td></tr></table></figure>

<h2 id="4-2-对象的初始化和清理"><a href="#4-2-对象的初始化和清理" class="headerlink" title="4.2 对象的初始化和清理"></a>4.2 对象的初始化和清理</h2><p>对象的初始化和清理是两个非常重要的安全问题，一个对象或者变量没有初始状态，对其使用后果是未知；同样的，使用完一个对象或者变量没有及时清理，也会造成一定的安全问题。</p>
<h3 id="构造函数和析构函数"><a href="#构造函数和析构函数" class="headerlink" title="构造函数和析构函数"></a>构造函数和析构函数</h3><p>c++利用了构造函数和析构函数解决上述问题，这两个函数将会被编译器自动调用，完成对象初始化和清理工作，对象的初始化和清理工作是编译器强制要我们做的事情，<strong>因此如果我们不提供构造和析构，编译器会自动提供空实现的构造和析构函数。</strong></p>
<p><strong>构造函数</strong>：在创建对象时为对象成员属性赋值，由编译器自动调用。<br>(1)没有返回值，不用写void<br>(2)函数名与类名相同<br>(3)构造函数可以有参数，可以发生重载<br>(4)创建对象的时候，构造函数会自动调用，而且只会调用一次 </p>
<p><strong>析构函数</strong>：在对象销毁前系统自动调用，执行一些清理工作。<br>(1)没有返回值，不用写void<br>(2)函数名需在类名前加~<br>(3)析构函数不可有参数，不可重载<br>(4)对象在销毁前，析构函数会自动调用，而且只会调用一次 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">    public:</span><br><span class="line">        <span class="function"><span class="title">Person</span></span>()&#123;//无参构造函数,程序员不写系统默认提供</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot; 构造函数的调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        ~Person()&#123;//析构函数,程序员不写系统默认提供</span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot; 析构函数的调用&quot;&lt;&lt;endl</span>;   </span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">void <span class="function"><span class="title">test</span></span>()&#123;//test()函数在栈区，<span class="built_in">test</span>()方法执行完毕后，才会释放这个对象</span><br><span class="line">    Person p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;test()函数调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">    cout&lt;&lt;&quot;main()函数调用&quot;&lt;&lt;endl</span>;</span><br><span class="line">    Person p;//在main函数实例化的对象要等main()执行完毕后才会自动销毁</span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);//按任意键后程序继续</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="构造函数的分类及调用"><a href="#构造函数的分类及调用" class="headerlink" title="构造函数的分类及调用"></a>构造函数的分类及调用</h3><p><strong>分类</strong><br>(1)按参数分：无参构造、有参构造<br>(2)按类型分：普通构造、拷贝构造（类似方法值传递，形参拷贝实参）</p>
<p><strong>调用方式</strong><br>(1)括号法<br>(2)显示法(推荐)<br>(3)隐式转换法(不常用)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">//构造函数分类</span><br><span class="line">class Person &#123;</span><br><span class="line">    public:</span><br><span class="line">        int age;</span><br><span class="line">        //1.无参构造函数,程序员不写系统默认提供</span><br><span class="line">        <span class="function"><span class="title">Person</span></span>()&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot; 无参构造函数的调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        //2.有参构造函数</span></span><br><span class="line"><span class="string">        Person(int age)&#123;</span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot; 有参构造函数的调用&quot;&lt;&lt;endl</span>;</span><br><span class="line">            this-&gt;age = age;//为成员变量赋初值</span><br><span class="line">        &#125;</span><br><span class="line">        //3.拷贝构造函数</span><br><span class="line">        Person( const Person &amp;p)&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot; 拷贝构造函数的调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">            this-&gt;age = p.age;  //将传入的对象的属性拷贝到自己身上</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        ~Person()&#123;//析构函数,程序员不写系统默认提供</span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot; 析构函数的调用&quot;&lt;&lt;endl</span>;   </span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()&#123;</span><br><span class="line">    //1.括号法</span><br><span class="line">    Person p1;      //调用无参构造方法</span><br><span class="line">    Person p2(10);  //调用无参构造方法</span><br><span class="line">    Person p3(p2);  //调用拷贝构造方法</span><br><span class="line">    cout&lt;&lt;<span class="string">p3.age&lt;&lt;endl;//输出p3</span>从p2拷贝到的年龄10;</span><br><span class="line"></span><br><span class="line">    //2.显示法(推荐使用)</span><br><span class="line">    Person();               //匿名对象，该行代码执行完后会立即被销毁，析构函数会立马调用</span><br><span class="line">                            //不能用拷贝函数初始化匿名对象，Person(p1)是错的！</span><br><span class="line">    Person p4 = Person();   //调用无参构造方法</span><br><span class="line">    Person P5 = Person(10); //调用无参构造方法</span><br><span class="line">    Person P6 = Person(P5); //调用拷贝构造方法</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()&#123;</span><br><span class="line">   <span class="built_in">test</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="深拷贝和浅拷贝-拷贝构造函数的不同"><a href="#深拷贝和浅拷贝-拷贝构造函数的不同" class="headerlink" title="深拷贝和浅拷贝(拷贝构造函数的不同)"></a>深拷贝和浅拷贝(拷贝构造函数的不同)</h3><p>浅拷贝：简单的赋值拷贝操作,类中未实现拷贝构造方法，则使用编译器自带的拷贝方法（浅拷贝）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">//构造函数分类</span><br><span class="line">class Person &#123;</span><br><span class="line">    public:</span><br><span class="line">        int age;</span><br><span class="line">        string *name;//定义姓名指针</span><br><span class="line"></span><br><span class="line">        //1.无参构造函数,程序员不写系统默认提供</span><br><span class="line">        <span class="function"><span class="title">Person</span></span>()&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot; 无参构造函数的调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        //2.有参构造函数</span></span><br><span class="line"><span class="string">        Person(int age,string name)&#123;</span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot; 有参构造函数的调用&quot;&lt;&lt;endl</span>;</span><br><span class="line">            this-&gt;age = age; </span><br><span class="line">            this-&gt;name = new string(name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //3.拷贝构造函数(编译器提供的默认拷贝构造函数，为浅拷贝)</span><br><span class="line">        Person( const Person &amp;p)&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot; 拷贝构造函数的调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">            this-&gt;age = p.age;  //只是简单的赋值</span></span><br><span class="line"><span class="string">            this-&gt;name = p.name;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        ~Person()&#123;//析构函数,程序员不写系统默认提供</span></span><br><span class="line"><span class="string">            //在析构函数中释放在构造函数中用new开辟的堆区数据</span></span><br><span class="line"><span class="string">            if(this-&gt;name != NULL)//如果指向堆区的指针不为空</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                delete this-&gt;name;//使用delete释放指针</span></span><br><span class="line"><span class="string">                this-&gt;name = NULL;//将该指针置为空,防止野指针的出现</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot; 析构函数的调用&quot;&lt;&lt;endl</span>;   </span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()&#123;</span><br><span class="line">   Person p1 = Person(18,<span class="string">&quot;boge&quot;</span>);</span><br><span class="line">   //未写拷贝函数时，编译器提供的浅拷贝，在进行指针空间释放的时候会出问题</span><br><span class="line">   //比如两个对象的指针指向同一个空间，但是会被释放两次，程序会报错</span><br><span class="line">   Person p2 = Person(p1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()&#123;</span><br><span class="line">   <span class="built_in">test</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>深拷贝：在堆区重新申请空间，进行拷贝操作，堆区申请空间需要用到<strong>new关键字</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">//构造函数分类</span><br><span class="line">class Person &#123;</span><br><span class="line">    public:</span><br><span class="line">        int age;</span><br><span class="line">        string *name;//定义姓名指针</span><br><span class="line"></span><br><span class="line">        //1.无参构造函数,程序员不写系统默认提供</span><br><span class="line">        <span class="function"><span class="title">Person</span></span>()&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot; 无参构造函数的调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        //2.有参构造函数</span></span><br><span class="line"><span class="string">        Person(int age,string name)&#123;</span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot; 有参构造函数的调用&quot;&lt;&lt;endl</span>;</span><br><span class="line">            this-&gt;age = age;        //未写拷贝函数时，编译器提供的浅拷贝，在进行指针空间释放的时候会出问题</span><br><span class="line">            this-&gt;name = new string(name);</span><br><span class="line">        &#125;</span><br><span class="line">        //3.拷贝构造函数(深拷贝)</span><br><span class="line">        Person( const Person &amp;p)&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot; 拷贝构造函数的调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">            this-&gt;age = p.age;</span></span><br><span class="line"><span class="string">            this-&gt;name = new string(*p.name); //重新用new申请堆区的内存地址</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        ~Person()&#123;//析构函数,程序员不写系统默认提供</span></span><br><span class="line"><span class="string">            //在析构函数中释放在构造函数中用new开辟的堆区数据</span></span><br><span class="line"><span class="string">            if(this-&gt;name != NULL)//如果指向堆区的指针不为空</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                delete this-&gt;name;//使用delete释放指针</span></span><br><span class="line"><span class="string">                this-&gt;name = NULL;//将该指针置为空,防止野指针的出现</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot; 析构函数的调用&quot;&lt;&lt;endl</span>;   </span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()&#123;</span><br><span class="line">   Person p1 = Person(18,<span class="string">&quot;boge&quot;</span>);</span><br><span class="line">   Person p2 = Person(p1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()&#123;</span><br><span class="line">   <span class="built_in">test</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类对象作为类成员"><a href="#类对象作为类成员" class="headerlink" title="类对象作为类成员"></a>类对象作为类成员</h3><p>c++类中的成员可以是另一个类的对象，我们称该成员为对象成员。当其他类对象作为本类成员时，先构造其他类对象，再构造自身，析构时，先析构自身，后析构其他类对象。（与栈相似，先构造的后析构）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class A&#123;</span><br><span class="line">public:</span><br><span class="line">    int age;</span><br><span class="line">    <span class="function"><span class="title">A</span></span>()&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;A无参构造被调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    ~A()&#123;</span></span><br><span class="line"><span class="string">        cout&lt;&lt;&quot;A析构被调用&quot;&lt;&lt;endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class B&#123;</span><br><span class="line">public:</span><br><span class="line">    A a;</span><br><span class="line">    <span class="function"><span class="title">B</span></span>()&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;B无参构造被调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    ~B()&#123;</span></span><br><span class="line"><span class="string">        cout&lt;&lt;&quot;B析构被调用&quot;&lt;&lt;endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()&#123;</span><br><span class="line">   B b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()&#123;</span><br><span class="line">   <span class="built_in">test</span>();</span><br><span class="line">   /*输出如下：</span><br><span class="line">    A无参构造被调用</span><br><span class="line">    B无参构造被调用</span><br><span class="line">    B析构被调用</span><br><span class="line">    A析构被调用*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="静态成员"><a href="#静态成员" class="headerlink" title="静态成员"></a>静态成员</h3><p>静态成员就是在成员变量和成员函数前加上关键字static，称为静态成员。<br><strong>静态成员变量</strong><br>(1)所有对象共享同一份数据，只能在本文件内使用(当前对象更改后，后续对象访问的是更改后的数据，相当于类内全局变量)<br>(2)在编译阶段分配内存<br>(3)类内声明，类外初始化，且只会被初始化一次（类内初始化会报错）<br>(4)可通过实例化对象访问，也可通过类名::(作用域)访问,private修饰的静态成员变量不可访问</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class A&#123;</span><br><span class="line">public:</span><br><span class="line">    static int age;//类内定义</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int A::age = 10;//类外初始化</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()&#123;</span><br><span class="line">   A a1;</span><br><span class="line">   cout&lt;&lt; <span class="string">a1.age&lt;&lt;endl;</span></span><br><span class="line"><span class="string">   A a2;</span></span><br><span class="line"><span class="string">   a2.age = 20;</span></span><br><span class="line"><span class="string">   cout&lt;&lt;a1</span>.age&lt;&lt;<span class="string">endl;  //输出10, 20</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>静态成员函数</strong><br>(1)所有对象共享同一个函数<br>(2)静态成员函数只能访问静态成员变量！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class A</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    static int age; //类内定义静态成员变量</span><br><span class="line">    int boge;</span><br><span class="line">    static void <span class="function"><span class="title">pf</span></span>()&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">age&lt;&lt;endl;//可访问，但静态方法中不可用this来区分，因为是共用的，只有一个</span></span><br><span class="line"><span class="string">        cout&lt;&lt;boge&lt;&lt;endl;//错误，不可访问非静态成员变量</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br></pre></td></tr></table></figure>


<h2 id="c-对象模型和this指针"><a href="#c-对象模型和this指针" class="headerlink" title="c++对象模型和this指针"></a>c++对象模型和this指针</h2><p>在c++中，类内的成员变量和成员函数分开存储，只有非静态的成员变量才属于类的对象，才可以用this指针修饰。<br>非静态成员变量占用对象空间，静态成员变量、函数，非静态成员函数不占对象空间，所有函数共享一个函数实例。</p>
<p><strong>空对象</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class A</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    A a1;</span><br><span class="line">    cout&lt;&lt; <span class="string">sizeof(a1) &lt;&lt;endl;//空对象占用一个字节</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>非空对象</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class A</span><br><span class="line">&#123;</span><br><span class="line">    static int age;//不占用类内存，仍输出1</span><br><span class="line">    int height;    //占用四个内存，输出4</span><br><span class="line">    void <span class="function"><span class="title">pr</span></span>()&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;hello world!&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int A::age = 10;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//调用</span></span><br><span class="line"><span class="string">void test()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    A a1;</span></span><br><span class="line"><span class="string">    cout&lt;&lt; sizeof(a1) &lt;&lt;endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>this指针</strong><br>区别同名的成员变量和形参，可以指向任意本类的成员，包括私有和共享的；可以用return *this来返回该对象本身。<br><strong>链式调用</strong>返回对象本身需要引用返回！！！而不是值返回！！！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class A</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    int age = 10;</span><br><span class="line">    //!!!此处要以引用的方式返回，以值返回编译器会重新拷贝一个新对象，导致最后输出10,20</span><br><span class="line">    A&amp; add_age(int age)&#123;</span><br><span class="line">        this-&gt;age += age;</span><br><span class="line">        <span class="built_in">return</span> *this;//返回当前类对象本身，可以链式调用</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    A a1;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;<span class="string">a1.age&lt;&lt;endl;</span></span><br><span class="line"><span class="string">    a1</span>.add_age(10).add_age(10).add_age(10);//利用this返回类对象本身，链式调用该函数</span><br><span class="line">    cout&lt;&lt;<span class="string">a1.age&lt;&lt;endl; //输出10,40</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="const修饰成员函数"><a href="#const修饰成员函数" class="headerlink" title="const修饰成员函数"></a>const修饰成员函数</h3><p><strong>常函数</strong><br>(1) const修饰成员函数为常函数<br>(2) 常函数不可以修改成员属性（只读）<br>(3) 成员属性声明时加关键字mutable（可变的）后,在常函数中依然可以修改</p>
<p><strong>常对象</strong><br>(1) const修饰类对象为常对象<br>(2) 常对象只能调用常函数</p>
<h2 id="4-4友元"><a href="#4-4友元" class="headerlink" title="4.4友元"></a>4.4友元</h2><p>友元就是让类外的特殊函数或者特殊类访问类内的private私有属性成员<br><strong>友元的三种实现</strong><br>(1)全局函数作友元<br>(2)类作友元<br>(3)成员函数作友元<br>只需在类内声明上述三种对应的全局成员，并在其之前用<strong>friend</strong>关键字修饰即可</p>
<p><strong>全局函数友元示例</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class A</span><br><span class="line">&#123;</span><br><span class="line">//！！！在全局作用域下声明该友元，声明添加friend关键字后的对应全局函数即可</span><br><span class="line">    friend void good_gay(A *a);//类内友元声明，该全局函数可访问类内私有属性</span><br><span class="line">    </span><br><span class="line">    private:</span><br><span class="line">        string ws;</span><br><span class="line">    public:</span><br><span class="line">        string kt;</span><br><span class="line">        <span class="function"><span class="title">A</span></span>()&#123;</span><br><span class="line">            this-&gt;kt = <span class="string">&quot;客厅&quot;</span>;</span><br><span class="line">            this-&gt;ws = <span class="string">&quot;卧室&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//全局函数作友元</span><br><span class="line">void good_gay(A *a)</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;全局函数good_gay正在访问您的&quot;</span>&lt;&lt;<span class="string">a-&gt;kt&lt;&lt;endl;//访问公共属性成员</span></span><br><span class="line"><span class="string">    cout&lt;&lt;&quot;全局函数good_gay正在访问您的&quot;&lt;&lt;a</span>-&gt;ws&lt;&lt;<span class="string">endl;//访问私有属性成员</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//调用</span></span><br><span class="line"><span class="string">void test()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    A a;</span></span><br><span class="line"><span class="string">    good_gay(&amp;a);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="4-5运算符重载"><a href="#4-5运算符重载" class="headerlink" title="4.5运算符重载"></a>4.5运算符重载</h2><p>通过重载运算符来进行自定义数据类型(结构体、类等)的运算，通用名称: operator(运算符)后边跟重载的运算符(+、-、*、&#x2F;)。</p>
<p>**加号运算符重载operator+**：实现自定义数据类型的相加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class boge&#123;</span><br><span class="line">    public:</span><br><span class="line">        int a,b;</span><br><span class="line">        //重载加号运算符方法</span><br><span class="line">        boge operator+(boge *gebo)&#123;//传入指针</span><br><span class="line">            boge temp;</span><br><span class="line">            temp.a = this-&gt;a + gebo-&gt;a;</span><br><span class="line">            temp.b = this-&gt;b + gebo-&gt;b;</span><br><span class="line">            <span class="built_in">return</span> temp;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    boge b1,b2;</span><br><span class="line">    b1.a = 10;</span><br><span class="line">    b1.b = 20;</span><br><span class="line">    b2.a = 30;</span><br><span class="line">    b2.b = 40;</span><br><span class="line"></span><br><span class="line">    boge b3 = b1.operator+(&amp;b2);//传入b2地址并将返回值赋予b3</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;b1 + b2 =&quot;</span>&lt;&lt;<span class="string">b3.a+b3</span>.b&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>**左移运算符重载operator&lt;&lt;**：实现自定义数据类型的输出</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class boge&#123;</span><br><span class="line">    public:</span><br><span class="line">        int a,b;</span><br><span class="line">        </span><br><span class="line">&#125;;</span><br><span class="line">//只能用全局函数重载左移运算符,输出boge类中的所有的成员值</span><br><span class="line">ostream &amp;  operator&lt;&lt;(ostream &amp;cout , boge &amp;b)&#123;//本质 operator&lt;&lt; (cout,b) ,简化 cout &lt;&lt; <span class="string">b</span></span><br><span class="line"><span class="string">    cout&lt;&lt; b</span>.a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;<span class="string">b.b</span>;</span><br><span class="line">    <span class="built_in">return</span> cout;//链式编程，后边可追加</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    boge b;</span><br><span class="line">    b.a = 10;</span><br><span class="line">    b.b = 20;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt; <span class="string">b &lt;&lt;endl;//重载&lt;&lt;运算符后输出boge类</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>**递增运算符重载operator++**：实现自定义数据类型的自增<br>**赋值运算符重载operator&#x3D;**：实现自定义数据类型的深拷贝<br>**关系运算符重载operator&gt; &lt; &#x3D;&#x3D; !&#x3D;**：实现自定义数据类型的对象的对比操作<br>**函数调用运算符重载operator()**：实现仿函数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class boge&#123;</span><br><span class="line">    public:</span><br><span class="line">        int a,b;</span><br><span class="line">        void operator() (string s)//重载函数调用运算符</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt; <span class="string">s &lt;&lt;endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//调用</span></span><br><span class="line"><span class="string">void test()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    boge b;</span></span><br><span class="line"><span class="string">    b(&quot;boge&quot;);//仿函数，调用operator(string s</span>),输出boge</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-6继承"><a href="#4-6继承" class="headerlink" title="4.6继承"></a>4.6继承</h2><p>下级别的成员除了拥有上一级的共性，还有自己的特性，利用继承的特性减少重复的代码。</p>
<h3 id="继承的基本语法"><a href="#继承的基本语法" class="headerlink" title="继承的基本语法"></a>继承的基本语法</h3><p>“ class 子类 : public 父类 ”</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">//父类</span><br><span class="line">class father&#123;</span><br><span class="line">public:</span><br><span class="line">    int age;</span><br><span class="line">    string name;</span><br><span class="line">    void <span class="function"><span class="title">hw</span></span>()&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;hello world!&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    void content()&#123;</span></span><br><span class="line"><span class="string">        cout&lt;&lt;&quot;hello father!&quot;&lt;&lt;endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//子类            </span><br><span class="line">class son : public father&#123;</span><br><span class="line">public:</span><br><span class="line">    void <span class="function"><span class="title">content</span></span>()&#123; //不同类继承父类中的content方法并重写，实现多态</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;hello son!&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//调用</span></span><br><span class="line"><span class="string">void test()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    father f;</span></span><br><span class="line"><span class="string">    f.age = 38;</span></span><br><span class="line"><span class="string">    f.name = &quot;father&quot;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    son s;</span></span><br><span class="line"><span class="string">    s.age = 18;</span></span><br><span class="line"><span class="string">    s.name = &quot;son&quot;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    f.content();</span></span><br><span class="line"><span class="string">    f.hw();</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    s.content();</span></span><br><span class="line"><span class="string">    s.hw();</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="继承的三种方式"><a href="#继承的三种方式" class="headerlink" title="继承的三种方式"></a>继承的三种方式</h3><table>
<thead>
<tr>
<th>继承方式</th>
<th>公有继承</th>
<th>保护继承</th>
<th>私有继承</th>
</tr>
</thead>
<tbody><tr>
<td>父类public</td>
<td>子类public</td>
<td>子类protected</td>
<td>子类private</td>
</tr>
<tr>
<td>父类protected</td>
<td>子类protected</td>
<td>子类protected</td>
<td>子类private</td>
</tr>
<tr>
<td>父类private</td>
<td>子类不可访问父类</td>
<td>子类不可访问父类</td>
<td>子类不可访问父类</td>
</tr>
</tbody></table>
<p>父类的private成员仍会被子类继承，但是不可访问。</p>
<h3 id="继承父子类的构造、析构顺序"><a href="#继承父子类的构造、析构顺序" class="headerlink" title="继承父子类的构造、析构顺序"></a>继承父子类的构造、析构顺序</h3><p>继承中父类和子类析构的顺序和类嵌套的顺序一样，外类构造——本类构造——本类析构——外类析构</p>
<h3 id="继承-静态-同名成员、函数处理方式"><a href="#继承-静态-同名成员、函数处理方式" class="headerlink" title="继承(静态)同名成员、函数处理方式"></a>继承(静态)同名成员、函数处理方式</h3><p>访问子类同名成员    直接访问    son.name<br>访问父类同名成员    加作用域    son.father::name    son::father::name</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">//父类</span><br><span class="line">class father&#123;</span><br><span class="line">    </span><br><span class="line">public:</span><br><span class="line">    int age;</span><br><span class="line">    <span class="function"><span class="title">father</span></span>()&#123;</span><br><span class="line">        age = 38;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">//继承语法:“ class 子类 : public 父类”</span><br><span class="line">//子类            </span><br><span class="line">class son : public father&#123;</span><br><span class="line">public:</span><br><span class="line">    int age;</span><br><span class="line">    <span class="function"><span class="title">son</span></span>()&#123;</span><br><span class="line">        age = 18;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    son s;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;son&#x27;s age is &quot;</span>&lt;&lt; <span class="string">s.age &lt;&lt;endl;</span></span><br><span class="line"><span class="string">    cout&lt;&lt;&quot;father&#x27;s</span> age is <span class="string">&quot;&lt;&lt; s.father::age &lt;&lt;endl;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="多继承（不推荐）"><a href="#多继承（不推荐）" class="headerlink" title="多继承（不推荐）"></a>多继承（不推荐）</h3><p>语法：”class 子类 ： 继承方式 父类1 , 继承方式 父类2…”</p>
<h2 id="4-7多态"><a href="#4-7多态" class="headerlink" title="4.7多态"></a>4.7多态</h2><p>多个子类重写同一个父类中的同一个方法，并实现自己的特性。<br><strong>静态多态</strong><br>(1)函数重载<br>(2)运算符重载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">class animal&#123;</span><br><span class="line">    public:</span><br><span class="line">        void <span class="function"><span class="title">speak</span></span>()&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;动物在说话&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">class cat : public animal&#123;</span></span><br><span class="line"><span class="string">    public:</span></span><br><span class="line"><span class="string">        void speak()&#123;</span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot;猫在说话&quot;&lt;&lt;endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class dog : public animal&#123;</span><br><span class="line">    public:</span><br><span class="line">        void <span class="function"><span class="title">speak</span></span>()&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;狗在说话&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//调用</span></span><br><span class="line"><span class="string">void test()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    //静态多态，直接用子类对象调用</span></span><br><span class="line"><span class="string">    cat c;</span></span><br><span class="line"><span class="string">    c.speak();</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    dog d;</span></span><br><span class="line"><span class="string">    d.speak();</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>动态多态</strong><br>(1)子类重写父类虚函数,加virtual为虚函数,传入子类对象,以调用不同子类的方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">class animal&#123;</span><br><span class="line">    public:</span><br><span class="line">        virtual void <span class="function"><span class="title">speak</span></span>()&#123;//加上virtual关键字变虚函数,实现动态多态</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;动物在说话&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">class cat : public animal&#123;</span></span><br><span class="line"><span class="string">    public:</span></span><br><span class="line"><span class="string">        void speak()&#123;</span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot;猫在说话&quot;&lt;&lt;endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class dog : public animal&#123;</span><br><span class="line">    public:</span><br><span class="line">        void <span class="function"><span class="title">speak</span></span>()&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;狗在说话&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//动态多态</span></span><br><span class="line"><span class="string">void speak(animal &amp;a)&#123;//传入父类的引用，或者指针，指向子类的对象</span></span><br><span class="line"><span class="string">    a.speak();        //若父类speak()函数未加virtual关键字，不管传如父类还是子类对象，此处输出父类的speak方法</span></span><br><span class="line"><span class="string">&#125;                     //加virtual关键字后，会根据传入的子类对象多态输出</span></span><br><span class="line"><span class="string">//调用</span></span><br><span class="line"><span class="string">void test()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    animal a;</span></span><br><span class="line"><span class="string">    cat c;</span></span><br><span class="line"><span class="string">    dog d;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    speak(a);//传入父类</span></span><br><span class="line"><span class="string">    speak(c);//传入子类</span></span><br><span class="line"><span class="string">    speak(d);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="抽象类和纯虚函数"><a href="#抽象类和纯虚函数" class="headerlink" title="抽象类和纯虚函数"></a>抽象类和纯虚函数</h3><p>在多态中，通常父类中虚函数的实现时毫无意义的，主要都是调用子类重写的内容，因此可以将虚函数改为<strong>纯虚函数</strong>，<br>语法： virtual 返回值类型 函数名(参数列表) &#x3D; 0;<br>当类中有了纯虚函数，这个类也称为抽象类<br><strong>抽象类</strong><br>(1)无法实例化对象<br>(2)子类必须重写抽象类中的纯虚函数，否则也属于抽象类</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class animal&#123;</span><br><span class="line">    public:</span><br><span class="line">        virtual void speak() = 0;</span><br><span class="line">        //在虚函数的基础上加上 = 0变成纯虚函数，该类变成抽象类</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class <span class="built_in">cat</span> : public animal&#123;</span><br><span class="line">    public:</span><br><span class="line">        void <span class="function"><span class="title">speak</span></span>()&#123;//子类重写抽象类父类的纯虚函数</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;猫在叫&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">void pf(animal *a)//传入父类的引用，或者指针，指向子类的对象</span></span><br><span class="line"><span class="string">&#123;                 </span></span><br><span class="line"><span class="string">    a-&gt;speak();</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">void pf(animal &amp;a)//地址传递</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    a.speak();</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">//调用</span></span><br><span class="line"><span class="string">void test()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    animal *a = new cat;//new出来cat对象并传给指针a</span></span><br><span class="line"><span class="string">    pf(a);//指针传递</span></span><br><span class="line"><span class="string">    pf(*a);//地址传递</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="虚析构和纯虚析构"><a href="#虚析构和纯虚析构" class="headerlink" title="虚析构和纯虚析构"></a>虚析构和纯虚析构</h3><p>多态使用时，如果子类中有属性开辟到堆区，那么父类指针在释放时，无法调用到子类的析构方法。<br>解决方法就是将父类中的析构函数变为虚析构函数。<em>ps:父类虽然是抽象类但仍会调用构造和析构方法</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">class animal&#123;</span><br><span class="line">    public:</span><br><span class="line">        <span class="function"><span class="title">animal</span></span>()&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;animal构造函数调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        virtual ~animal()&#123;//虚析构</span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot;animal析构函数调用&quot;&lt;&lt;endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        virtual void speak() = 0;//在虚函数的基础上加上 = 0变成纯虚函数，该类变成抽象类</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class <span class="built_in">cat</span> : public animal&#123;</span><br><span class="line">    public:</span><br><span class="line">        string *name;</span><br><span class="line">        <span class="function"><span class="title">cat</span></span>()&#123;</span><br><span class="line">            this-&gt;name = new string(<span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;cat构造函数调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        void speak()&#123;//子类重写抽象类父类的纯虚函数</span></span><br><span class="line"><span class="string">            cout&lt;&lt;&quot;猫在叫&quot;&lt;&lt;endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ~<span class="function"><span class="title">cat</span></span>()&#123;</span><br><span class="line">            <span class="keyword">if</span>(this-&gt;name != NULL)</span><br><span class="line">            &#123;</span><br><span class="line">                delete this-&gt;name;//释放堆空间</span><br><span class="line">                this-&gt;name = NULL;//指针置空</span><br><span class="line">            &#125;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;cat虚构函数调用&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//调用</span></span><br><span class="line"><span class="string">void test()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    animal *a = new cat;//new出来堆空间的cat对象并传给指针a</span></span><br><span class="line"><span class="string">    a-&gt;speak();</span></span><br><span class="line"><span class="string">    delete a;//释放堆空间</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="5-文件操作"><a href="#5-文件操作" class="headerlink" title="5.文件操作"></a>5.文件操作</h1><p>需要包含头文件<fstream><br><strong>文件类型</strong><br>(1)文本文件     (txt)<br>(2)二进制文件   (jpg,mp3,mp4)</p>
<p><strong>操作文件三大类</strong><br>(1)ofstream:output file stream写文件<br>(2)ifstream:input  file stream读文件<br>(3)fstream :file stream 读写文件</p>
<h3 id="文本文件"><a href="#文本文件" class="headerlink" title="文本文件"></a>文本文件</h3><p><strong>写文件</strong><br>(1)包含头文件    #include<fstream><br>(2)创建流对象    ofstream ofs<br>(3)打开文件      ofs.open(“文件路径”,打开方式)<br>(4)写入数据      ofs &lt;&lt; data<br>(5)关闭文件      ofs.close()</p>
<p><strong>文件打开方式</strong><br>(1)ios::in      读入文件<br>(2)ios::out     写入文件<br>(3)ios::ate     打开文件并定位到文件末尾<br>(4)ios::app     追加内容<br>(5)ios::trunc   若文件已存在，先删除已有文件再创建<br>(6)ios::binary  二进制方式<br>Ps:可多选,例如以二进制方式写入文件 ios::binary | ios::out</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//调用</span><br><span class="line">void <span class="function"><span class="title">test</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">   fstream fp;                      //创建数据流对象</span><br><span class="line">   fp.open(<span class="string">&quot;./test.txt&quot;</span>,ios::app);  //执行文件路径和打开方式</span><br><span class="line">   <span class="keyword">for</span>(int i=1;i&lt;10;i++)    </span><br><span class="line">    fp &lt;&lt; <span class="string">&quot;hello world!&quot;</span>&lt;&lt;<span class="string">endl;     //写入内容</span></span><br><span class="line"><span class="string">   fp.close();                      //关闭文件</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    test();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>读文件</strong><br>(1)包含头文件    #include<fstream><br>(2)创建流对象    ifstream ifs<br>(3)打开文件      ifs.open(“文件路径”,打开方式)<br>(4)读入数据      三种方式<br>(5)关闭文件      ifs.close()</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include&lt;fstream&gt;   //shift + alt + f 代码格式规范化</span></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    fstream fp;</span><br><span class="line">    fp.open(<span class="string">&quot;test.txt&quot;</span>,ios::<span class="keyword">in</span>);//以读入方式打开文件</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!fp.is_open())//判断文件打开是否成功</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;文件打开失败&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        return 0;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    //读数据</span></span><br><span class="line"><span class="string">    //1.字符数组按字符读取,读到空格换行</span></span><br><span class="line"><span class="string">    char buf1[1024] = &#123; 0 &#125;;</span></span><br><span class="line"><span class="string">    while(fp &gt;&gt; buf1)&#123;//从fp读数据(&gt;&gt;)到buf中</span></span><br><span class="line"><span class="string">        cout&lt;&lt;buf1&lt;&lt;endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //2.字符数组按行读取，可以读入空格，用fp的getline函数</span><br><span class="line">    char buf2[1024] = &#123;0&#125;;</span><br><span class="line">    <span class="keyword">while</span>(fp.getline(buf2,sizeof(buf2)))&#123;//buf按行从fp中读取数据</span><br><span class="line">        cout&lt;&lt;<span class="string">buf2&lt;&lt;endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    //3.字符串按行读入，可读空格，用全局函数getline，cin通用 (推荐！！！)</span></span><br><span class="line"><span class="string">    string buf3;</span></span><br><span class="line"><span class="string">    while(getline(fp,buf3))&#123;//buf3从fp中按行读取数据</span></span><br><span class="line"><span class="string">        cout&lt;&lt;buf3&lt;&lt;endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    fp.close();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>二进制写文件</strong><br>用二进制写文件时，不要用string类型写入，会报错。可以用包含string的结构体或者class类类型写入。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include&lt;fstream&gt;   //shift + alt + f 代码格式规范化</span></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    // fstream fp;</span><br><span class="line">    // fp.open(<span class="string">&quot;test.txt&quot;</span>,ios::binary | ios::out);</span><br><span class="line"></span><br><span class="line">    fstream fp(<span class="string">&quot;test.txt&quot;</span>,ios::binary | ios::out);</span><br><span class="line">    <span class="keyword">if</span>(!fp.is_open())//判断文件打开是否成功</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;文件打开失败&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        return 0;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    //写二进制数据,write方法</span></span><br><span class="line"><span class="string">    int a = 110;</span></span><br><span class="line"><span class="string">    fp.write((const char*)&amp;a,sizeof(a));//强转成字符指针数据类型写入</span></span><br><span class="line"><span class="string">            //强转char *类型的a地址，a的大小</span></span><br><span class="line"><span class="string">    fp.close();</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>二进制读文件</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include&lt;fstream&gt;   //shift + alt + f 代码格式规范化</span></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    fstream fp(<span class="string">&quot;test.txt&quot;</span>,ios::binary | ios::<span class="keyword">in</span>);</span><br><span class="line">    <span class="keyword">if</span>(!fp.is_open())//判断文件打开是否成功</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;文件打开失败&quot;</span>&lt;&lt;<span class="string">endl;</span></span><br><span class="line"><span class="string">        return 0;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    //读二进制数据,read方法</span></span><br><span class="line"><span class="string">    int a;</span></span><br><span class="line"><span class="string">    while(fp.read((char *)&amp;a,sizeof(a)))</span></span><br><span class="line"><span class="string">        cout&lt;&lt;a&lt;&lt;endl</span>;</span><br><span class="line">    </span><br><span class="line">    fp.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/images/%E7%A9%B7.jpg"></p>

            
        </div>
        <footer class="article-footer">
            <a data-url="http://example.com/2023/07/21/qiong/" data-id="clvyrsaey00073kbpgmjdbbx5" data-title="c++学习笔记————核心编程"
               class="article-share-link">分享</a>
            
            
            
            
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c/" rel="tag">c++</a></li></ul>


        </footer>
    </div>
    
        
    <nav id="article-nav" class="wow fadeInUp">
        
            <div class="article-nav-link-wrap article-nav-link-left">
                
                    <img data-src="/images/望眼欲穿.jpg" data-sizes="auto" alt="爬虫笔记1——requests模块"
                         class="lazyload">
                
                <a href="/2023/07/26/spider1/"></a>
                <div class="article-nav-caption">前一篇</div>
                <h3 class="article-nav-title">
                    
                        爬虫笔记1——requests模块
                    
                </h3>
            </div>
        
        
            <div class="article-nav-link-wrap article-nav-link-right">
                
                    <img data-src="/images/回眸一望.jpg" data-sizes="auto" alt="c++学习笔记————基础编程"
                         class="lazyload">
                
                <a href="/2023/07/11/quiet/"></a>
                <div class="article-nav-caption">后一篇</div>
                <h3 class="article-nav-title">
                    
                        c++学习笔记————基础编程
                    
                </h3>
            </div>
        
    </nav>


    

</article>












</section>
                
                    <aside id="sidebar">
    <div class="sidebar-wrap wow fadeInRight">
        <div class="sidebar-author">
            <img data-src="/avatar//avatar.jpg" data-sizes="auto" alt="Boge_1024" class="lazyload">
            <div class="sidebar-author-name">Boge_1024</div>
            <div class="sidebar-description">呐，我说，你有在偷看罢？</div>
        </div>
        <div class="sidebar-state">
            <div class="sidebar-state-article">
                <div>文章</div>
                <div class="sidebar-state-number">13</div>
            </div>
            <div class="sidebar-state-category">
                <div>分类</div>
                <div class="sidebar-state-number">2</div>
            </div>
            <div class="sidebar-state-tag">
                <div>标签</div>
                <div class="sidebar-state-number">12</div>
            </div>
        </div>
        <div class="sidebar-social">
            
                <div class=icon-github>
                    <a href=https://github.com/Boge1024 itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-google>
                    <a href=https://plus.google.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-twitter>
                    <a href=https://twitter.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-facebook>
                    <a href=https://www.facebook.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
        </div>
        <div class="sidebar-menu">
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">首页</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/archives"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">归档</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/about"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">关于</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/friend"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">友链</div>
                </div>
            
        </div>
    </div>
    
        
    <div class="widget-wrap wow fadeInRight">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c++</a></li></ul>
        </div>
    </div>


    
        
    <div class="widget-wrap wow fadeInRight">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/SSM/" style="font-size: 10px;">SSM</a> <a href="/tags/SpringBoot/" style="font-size: 10px;">SpringBoot</a> <a href="/tags/c/" style="font-size: 15px;">c++</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/requests/" style="font-size: 10px;">requests</a> <a href="/tags/scrapy/" style="font-size: 10px;">scrapy</a> <a href="/tags/selenium/" style="font-size: 10px;">selenium</a> <a href="/tags/xpath/" style="font-size: 10px;">xpath</a> <a href="/tags/%E5%BC%82%E6%AD%A5/" style="font-size: 10px;">异步</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 20px;">爬虫</a>
        </div>
    </div>


    
        
    <div class="widget-wrap wow fadeInRight">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">八月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">七月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">六月 2023</a></li></ul>
        </div>
    </div>


    

</aside>

                
            </div>
            <footer id="footer" class="wow fadeInUp">
    <div style="width: 100%; overflow: hidden"><div class="footer-line"></div></div>
    <div class="outer">
        <div id="footer-info" class="inner">
            
            <div>
                <span class="icon-copyright"></span>
                2023-2024
                <span class="footer-info-sep"></span>
                Boge_1024
            </div>
            
                <div>
                    基于&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>&nbsp;
                    Theme.<a href="https://github.com/D-Sketon/hexo-theme-reimu" target="_blank">Reimu</a>
                </div>
            
            
                <div>
                    <span class="icon-brush"></span>
                    66.2k
                    &nbsp;|&nbsp;
                    <span class="icon-coffee"></span>
                    04:05
                </div>
            
            
                <div>
                    <span class="icon-eye"></span>
                    <span id="busuanzi_container_site_pv">总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></span>
                    &nbsp;|&nbsp;
                    <span class="icon-user"></span>
                    <span id="busuanzi_container_site_uv">总访客量&nbsp;<span id="busuanzi_value_site_uv"></span></span>
                </div>
            
        </div>
    </div>
</footer>

        </div>
        <nav id="mobile-nav">
    <div class="sidebar-wrap">
        <div class="sidebar-author">
            <img data-src="/avatar//avatar.jpg" data-sizes="auto" alt="Boge_1024" class="lazyload">
            <div class="sidebar-author-name">Boge_1024</div>
            <div class="sidebar-description">呐，我说，你有在偷看罢？</div>
        </div>
        <div class="sidebar-state">
            <div class="sidebar-state-article">
                <div>文章</div>
                <div class="sidebar-state-number">13</div>
            </div>
            <div class="sidebar-state-category">
                <div>分类</div>
                <div class="sidebar-state-number">2</div>
            </div>
            <div class="sidebar-state-tag">
                <div>标签</div>
                <div class="sidebar-state-number">12</div>
            </div>
        </div>
        <div class="sidebar-social">
            
                <div class=icon-github>
                    <a href=https://github.com/Boge1024 itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-google>
                    <a href=https://plus.google.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-twitter>
                    <a href=https://twitter.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
                <div class=icon-facebook>
                    <a href=https://www.facebook.com/yourname itemprop="url" target="_blank"></a>
                </div>
            
        </div>
        <div class="sidebar-menu">
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">首页</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/archives"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">归档</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/about"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">关于</div>
                </div>
            
                <div class="sidebar-menu-link-wrap">
                    <a class="sidebar-menu-link-dummy" href="/friend"></a>
                    <span class="sidebar-menu-icon"></span>
                    <div class="sidebar-menu-link">友链</div>
                </div>
            
        </div>
    </div>
</nav>


        
<script src="https://unpkg.com/jquery@3.7.0/dist/jquery.min.js"></script>


<script src="https://unpkg.com/lazysizes@5.3.2/lazysizes.min.js"></script>


<script src="https://unpkg.com/clipboard@2.0.11/dist/clipboard.min.js"></script>



    
<script src="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>



    
<script src="https://unpkg.com/busuanzi@2.3.0/bsz.pure.mini.js"></script>






<script src="/js/script.js"></script>
















    </div>
    <div class="site-search">
        <div class="algolia-popup popup">
            <div class="algolia-search">
                <span class="algolia-search-input-icon"></span>
                <div class="algolia-search-input" id="algolia-search-input"></div>
            </div>

            <div class="algolia-results">
                <div id="algolia-stats"></div>
                <div id="algolia-hits"></div>
                <div id="algolia-pagination" class="algolia-pagination"></div>
            </div>

            <span class="popup-btn-close"></span>
        </div>
    </div>
    <!-- hexo injector body_end start -->
<script src="/js/insertHighlight.js"></script>
<!-- hexo injector body_end end --></body>
    </html>


<!--浏览器搞笑标题-->
<script type="text/javascript" src="\js\FunnyTitle.js"></script>

<!-- 雪花特效 -->
<script type="text/javascript" src="\js\snow.js"></script>

<!-- 高级看板娘 -->
<script src="/live2d-widget/autoload.js"></script>